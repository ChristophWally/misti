table_name,create_statement
deck_words,"CREATE TABLE deck_words (id uuid NOT NULL DEFAULT gen_random_uuid(), deck_id uuid, word_id uuid, added_at timestamp with time zone DEFAULT now());"
decks,"CREATE TABLE decks (id uuid NOT NULL DEFAULT gen_random_uuid(), user_id uuid, name text NOT NULL, description text, created_at timestamp with time zone DEFAULT now());"
dictionary,"CREATE TABLE dictionary (id uuid NOT NULL DEFAULT gen_random_uuid(), italian text NOT NULL, english text NOT NULL, word_type text NOT NULL, created_at timestamp with time zone DEFAULT now(), tags _text[] DEFAULT '{}'::text[], phonetic_pronunciation text, image_url text, audio_url text, updated_at timestamp with time zone DEFAULT now(), audio_filename text);"
profiles,"CREATE TABLE profiles (id uuid NOT NULL, full_name text, avatar_url text, created_at timestamp with time zone DEFAULT now());"
sentences,"CREATE TABLE sentences (id uuid NOT NULL DEFAULT gen_random_uuid(), italian_text text NOT NULL, english_translation text NOT NULL, phonetic_spelling text, difficulty_level text, topic_tags _text[], source text, verified boolean DEFAULT false, audio_filename text, created_at timestamp with time zone DEFAULT now(), updated_at timestamp with time zone DEFAULT now());"
user_word_progress,"CREATE TABLE user_word_progress (id uuid NOT NULL DEFAULT gen_random_uuid(), user_id uuid NOT NULL, deck_id uuid, target_table text NOT NULL, target_id uuid NOT NULL, difficulty_factor numeric DEFAULT 2.5, interval_days integer DEFAULT 1, repetitions integer DEFAULT 0, correct_streak integer DEFAULT 0, total_reviews integer DEFAULT 0, correct_reviews integer DEFAULT 0, last_reviewed timestamp with time zone, next_review timestamp with time zone, average_response_time numeric, difficulty_adjustments integer DEFAULT 0, created_at timestamp with time zone DEFAULT now(), updated_at timestamp with time zone DEFAULT now());"
word_audio_metadata,"CREATE TABLE word_audio_metadata (id uuid NOT NULL DEFAULT gen_random_uuid(), word_id uuid, azure_voice_name text NOT NULL, audio_filename text NOT NULL, file_size_bytes integer, duration_seconds numeric, generation_method text DEFAULT 'azure-tts'::text, created_at timestamp with time zone DEFAULT now(), play_count integer DEFAULT 0, last_played_at timestamp with time zone, quality_rating integer, needs_regeneration boolean DEFAULT false, regeneration_reason text, character_count integer, azure_request_id text, generated_at timestamp with time zone DEFAULT now(), updated_at timestamp with time zone DEFAULT now(), source_table text DEFAULT 'dictionary'::text, source_id uuid, voice_consistency_group uuid, ssml_used text, prosody_adjustments jsonb, sample_rate integer DEFAULT 16000, bit_rate integer DEFAULT 128000, last_verified timestamp with time zone);"
word_forms,"CREATE TABLE word_forms (id uuid NOT NULL DEFAULT gen_random_uuid(), word_id uuid, form_text text NOT NULL, form_type text NOT NULL, form_context text, audio_filename text, phonetic_form text, created_at timestamp with time zone DEFAULT now(), form_mood text, form_tense text, form_person text, form_number text, form_category text, auxiliary_type text, translation text, tags _text[] DEFAULT '{}'::text[], visual_indicators jsonb, updated_at timestamp with time zone DEFAULT now(), regularity text, audio_metadata_id uuid);"
word_relationships,"CREATE TABLE word_relationships (id uuid NOT NULL DEFAULT gen_random_uuid(), source_word_id uuid NOT NULL, target_word_id uuid NOT NULL, relationship_type text NOT NULL, relationship_direction text NOT NULL DEFAULT 'derives-to'::text, relationship_strength numeric DEFAULT 0.5, description text, systematic_rule text, created_at timestamp with time zone DEFAULT now());"
